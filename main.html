<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        
        #weatherData {
            font-size: 24px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <button id="getWeatherBtn">Get Current Weather</button>
    <div id="weatherData"></div>

    <script>
        // // Get the button and weather data div
        // const getWeatherBtn = document.getElementById('getWeatherBtn');
        // const weatherDataDiv = document.getElementById('weatherData');

        // // API URL with API key
        // const apiUrl = 'https://api.openweathermap.org/data/2.5/weather?q=London,uk&appid=e467712b257e418838be97cc881a71de';

        // // Add event listener to button
        // getWeatherBtn.addEventListener('click', getWeather);

        // // Function to get weather data
        // function getWeather() {
        //     // Use Fetch API to send GET request
        //     fetch(apiUrl)
        //         .then(response => {
        //             // Check if response is OK
        //             if (response.ok) {
        //                 return response.json();
        //             } else {
        //                 throw new Error(`Failed to retrieve weather data. Status code: ${response.status}`);
        //             }
        //         })
        //         .then(data => {
        //             // Extract relevant information
        //             const weatherDescription = data.weather[0].description;
        //             const temperature = data.main.temp - 273.15; // Convert Kelvin to Celsius
        //             const feelsLike = data.main.feels_like - 273.15; // Convert Kelvin to Celsius
        //             const humidity = data.main.humidity;
        //             const windSpeed = data.wind.speed;

        //             // Display weather data
        //             const weatherText = `
        //                 Current weather in London:
        //                 Description: ${weatherDescription}
        //                 Temperature: ${temperature.toFixed(2)}°C
        //                 Feels like: ${feelsLike.toFixed(2)}°C
        //                 Humidity: ${humidity}%
        //                 Wind Speed: ${windSpeed} m/s
        //             `;
        //             console.log(weatherText);
        //             weatherDataDiv.innerText = weatherText;
        //         })
        //         .catch(error => {
        //             console.error(error);
        //             weatherDataDiv.innerText = 'Failed to retrieve weather data';
        //         });
        // }




		// API Key from OpenWeatherMap
const apiKey = 'e467712b257e418838be97cc881a71de'; // Replace with your API key
const city = 'London';
const units = 'metric'; // Use metric units for temperature

// Construct API URL
const apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=${units}&appid=${apiKey}`;

// Set headers
const headers = {
    'Content-Type': 'application/json',
    'Accept': 'application/json'
};

// Function to get weather data
function getWeather() {
    // Use Fetch API to send GET request
    fetch(apiUrl, { headers })
        .then(response => {
            // Check if response is OK
            if (response.ok) {
                return response.json();
            } else {
                throw new Error(`Failed to retrieve weather data. Status code: ${response.status}`);
            }
        })
        .then(data => {
            // Extract relevant information
            const weatherDescription = data.weather[0].description;

            // Display weather data
            const weatherText = `Current weather in ${city}: ${weatherDescription}`;
            document.getElementById('weatherData').innerText = weatherText;
        })
        .catch(error => {
            console.error(error);
            document.getElementById('weatherData').innerText = 'Failed to retrieve weather data';
        });
}

// Select button and add event listener
const getWeatherBtn = document.getElementById('getWeatherBtn');
getWeatherBtn.addEventListener('click', getWeather);
    </script>
</body>
</html>
